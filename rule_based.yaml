mode: rule
dns:
  enable: true
  default-nameserver:
    - tls://223.5.5.5
  nameserver-policy:
    'geosite:cn': https://doh.pub/dns-query
    'geosite:geolocation-!cn': tls://8.8.8.8
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - tls://8.8.8.8
    - tls://1.1.1.1
  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
rule-providers:
  Custom_CN:
    type: http
    behavior: classic
    path: ./ruleset/Custom_CN.yaml
    url: https://raw.githubusercontent.com/alwzying/CustomizedClashRules/main/Custom_CN.yaml
    interval: 86400

  Wechat:
    type: http
    behavior: classic
    path: ./ruleset/Wechat.yaml
    url: https://raw.githubusercontent.com/alwzying/CustomizedClashRules/main/Wechat.yaml
    interval: 86400

  SteamCN:
    type: http
    behavior: classic
    path: ./ruleset/SteamCN.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.yaml
    interval: 86400

  ChinaMax:
    type: http
    behavior: classic
    path: ./ruleset/ChinaMax.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Classical_No_Resolve.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classic
    path: ./ruleset/YouTube.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube_No_Resolve.yaml
    interval: 86400

  Google:
    type: http
    behavior: classic
    path: ./ruleset/Google.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google_No_Resolve.yaml
    interval: 86400

  HBO:
    type: http
    behavior: classic
    path: ./ruleset/HBO.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/HBO/HBO_No_Resolve.yaml
    interval: 86400

  Netflix:
    type: http
    behavior: classic
    path: ./ruleset/Netflix.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix_Classical_No_Resolve.yaml
    interval: 86400

  DisneyPlus:
    type: http
    behavior: classic
    path: ./ruleset/DisneyPlus.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney_No_Resolve.yaml
    interval: 86400

  AppleTV:
    type: http
    behavior: classic
    path: ./ruleset/AppleTV.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleTV/AppleTV.yaml
    interval: 86400

  OpenAI:
    type: http
    behavior: classic
    path: ./ruleset/OpenAI.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI_No_Resolve.yaml
    interval: 86400

  Claude:
    type: http
    behavior: classic
    path: ./ruleset/Claude.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude_No_Resolve.yaml
    interval: 86400

  Spotify:
    type: http
    behavior: classic
    path: ./ruleset/Spotify.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify_No_Resolve.yaml
    interval: 86400

  TikTok:
    type: http
    behavior: classic
    path: ./ruleset/TikTok.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok_No_Resolve.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classic
    path: ./ruleset/Telegram.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram_No_Resolve.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classic
    path: ./ruleset/Apple.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical_No_Resolve.yaml
    interval: 86400

  GitHub:
    type: http
    behavior: classic
    path: ./ruleset/GitHub.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub_No_Resolve.yaml
    interval: 86400

  OneDrive:
    type: http
    behavior: classic
    path: ./ruleset/OneDrive.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive_No_Resolve.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classic
    path: ./ruleset/Microsoft.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400

  Game:
    type: http
    behavior: classic
    path: ./ruleset/Game.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game_No_Resolve.yaml
    interval: 86400

  Custom:
    type: http
    behavior: domain
    path: ./ruleset/Custom.yaml
    url: https://raw.githubusercontent.com/alwzying/CustomizedClashRules/main/Custom.yaml
    interval: 86400

  Global:
    type: http
    behavior: classic
    path: ./ruleset/Global.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Classical_No_Resolve.yaml
    interval: 86400

# 使用远程规则集
rules:
  - RULE-SET,Custom_CN,DIRECT
  - RULE-SET,Wechat,DIRECT
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,ChinaMax,DIRECT
  - RULE-SET,YouTube,📹 YouTube
  - RULE-SET,Google,🔍 Google
  - RULE-SET,HBO,📹 HBO
  - RULE-SET,Netflix,🎥 Netflix
  - RULE-SET,DisneyPlus,🎥 DisneyPlus
  - RULE-SET,AppleTV,🍎 AppleTV
  - RULE-SET,OpenAI,🤖 OpenAI
  - RULE-SET,Claude,🤖 Claude
  - RULE-SET,Spotify,🎵 Spotify
  - RULE-SET,TikTok,🎵 TikTok
  - RULE-SET,Telegram,📲 Telegram
  - RULE-SET,Apple,🍎 苹果服务
  - RULE-SET,GitHub,Ⓜ️ GitHub
  - RULE-SET,OneDrive,Ⓜ️ OneDrive
  - RULE-SET,Microsoft,Ⓜ️ 微软服务
  - RULE-SET,Game,🎮 游戏平台
  - RULE-SET,Custom,🔞 Custom
  - RULE-SET,Global,🌍 国外网站
  - MATCH,🐟 漏网之鱼
